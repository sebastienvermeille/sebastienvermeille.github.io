<!DOCTYPE html>
<html lang="en">
<head>
	<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>[Howto] Create your own app for UnRaid | CookieCode</title>
<meta name="generator" content="Jekyll v4.2.2" />
<meta property="og:title" content="[Howto] Create your own app for UnRaid" />
<meta name="author" content="sbeex" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Unraid provide an App store via its community app plugin:" />
<meta property="og:description" content="Unraid provide an App store via its community app plugin:" />
<link rel="canonical" href="https://cookiecode.dev/unraid/unraid-create-custom-docker-template.html" />
<meta property="og:url" content="https://cookiecode.dev/unraid/unraid-create-custom-docker-template.html" />
<meta property="og:site_name" content="CookieCode" />
<meta property="og:image" content="https://cookiecode.dev/assets/images/articles/unraid-your-app.png" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2022-06-14T00:00:00+00:00" />
<meta name="twitter:card" content="summary_large_image" />
<meta property="twitter:image" content="https://cookiecode.dev/assets/images/articles/unraid-your-app.png" />
<meta property="twitter:title" content="[Howto] Create your own app for UnRaid" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"sbeex"},"dateModified":"2022-06-14T00:00:00+00:00","datePublished":"2022-06-14T00:00:00+00:00","description":"Unraid provide an App store via its community app plugin:","headline":"[Howto] Create your own app for UnRaid","image":"https://cookiecode.dev/assets/images/articles/unraid-your-app.png","mainEntityOfPage":{"@type":"WebPage","@id":"https://cookiecode.dev/unraid/unraid-create-custom-docker-template.html"},"publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://cookiecode.dev/assets/logo/png/logo.png"},"name":"sbeex"},"url":"https://cookiecode.dev/unraid/unraid-create-custom-docker-template.html"}</script>
<!-- End Jekyll SEO tag -->

	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<link rel="icon" href="/assets/logo/png/logo.png">
	<link href="/assets/css/main.css" rel="stylesheet">
	<link href="/assets/vendors/fontawesome/css/all.css" rel="stylesheet">
</head>


<script async src="https://www.googletagmanager.com/gtag/js?id=G-08V6SWRTHK"></script>
<script>
    window.dataLayer = window.dataLayer || [];

    function gtag() {
        dataLayer.push(arguments);
    }

    gtag('js', new Date());
    gtag('config', 'G-08V6SWRTHK');
</script>


<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4328681465012055"
		crossorigin="anonymous"></script>






<body class="layout-post sub-theme-concept">
<!--	&lt;!&ndash; defer loading of font and font awesome &ndash;&gt;-->
<!--	<noscript id="deferred-styles">-->
<!--		<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">-->
<!--	</noscript>-->

<nav class="navbar gradient-bg lavel" role="navigation" aria-label="main navigation">
	<div class="navbar-brand">
		
		<a class="navbar-item" href="/index.html">
			<img src="/assets/logo/png/logo.png" width="28" height="28" alt="CookieCode logo">
		</a>

		<a role="button" class="navbar-burger" aria-label="menu" aria-expanded="false" data-target="navbarBasicExample">
			<span aria-hidden="true"></span>
			<span aria-hidden="true"></span>
			<span aria-hidden="true"></span>
		</a>
	</div>
	<div id="navbar" class="navbar-menu is-unselectable">
		<div class="navbar-start">
			<a class="navbar-item " href="/blog/">
				Blog
			</a>

			<a class="navbar-item " href="/oss/">
				Open Source
			</a>

			<a class="navbar-item " href="/about/">
				About me
			</a>
		</div>

		<div class="navbar-end">
			<div class="navbar-item">
				<div class="buttons has-addons">
					<button class="button is-small" onclick="themeSwitch('light');">
                            <span class="icon is-small">
                            <i class="fas fa-sun"></i>
                          </span>
					</button>
					<button class="button is-small" onclick="themeSwitch('dark');">
                            <span class="icon is-small">
                            <i class="fas fa-moon"></i>
                          </span>
					</button>
				</div>
			</div>
		</div>
	</div>
</nav>
<label class="theme_changer" style="display:none;">
	<input theme_toggle type="checkbox" id="theme_toggle">
	<div class="button"></div>
</label>
<main>
	<section class="section columns">
    <div class="container column is-8">
        <div class="content">
            <h1 class="title gradient-text">[Howto] Create your own app for UnRaid</h1>
            <figure class="image is-3by1">
                <img src="/assets/images/articles/unraid-your-app.png" alt="[Howto] Create your own app for UnRaid"/>
            </figure>
            <p>Unraid provide an App store via its <a href="https://forums.unraid.net/topic/38582-plug-in-community-applications/">community app plugin</a>:</p>

<p><img src="../assets/images/articles/unraid-community-app-plugin.png" alt="Going step by step" /></p>

<p>With this it becomes really easy for everyone to install any app on Unraid: Just click install and voila your Unraid server is up and running.</p>

<p>What about publishing your own app there ? Wouldn’t it be a great way to let it get adopted by the whole unraid community ?</p>

<p>If you ask me I will tell you: <strong>Yes definitely!</strong></p>

<p>Furthermore this is totally free and very easy compared to some other ecosystems.</p>

<p>Let’s have a look about that!</p>

<h2 id="create-your-own-app-store">Create your own app store</h2>

<p>I created mine here if you are interested in the end results feel free to have a look: <a href="https://github.com/sebastienvermeille/unraid-docker-templates">https://github.com/sebastienvermeille/unraid-docker-templates</a></p>

<p>Let’s see how it works:</p>

<p>1) First you have to create a public git repository (on github or whatever)
2) Then inside of it we will declare some templates for our docker applications.</p>

<p>Here is the template I have created for <code class="language-plaintext highlighter-rouge">sonos2mqtt</code> app:</p>
<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="source-code"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
</pre></td><td class="rouge-code"><pre>sonos2mqtt.xml

<span class="cp">&lt;?xml version="1.0"?&gt;</span>
<span class="nt">&lt;Container</span> <span class="na">version=</span><span class="s">"2"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;Name&gt;</span>sonos2mqtt<span class="nt">&lt;/Name&gt;</span>
    <span class="nt">&lt;Registry&gt;</span>https://hub.docker.com/r/svrooij/<span class="nt">&lt;/Registry&gt;</span>
    <span class="nt">&lt;Repository&gt;</span>svrooij/sonos2mqtt<span class="nt">&lt;/Repository&gt;</span>
    <span class="nt">&lt;Github&gt;</span>https://github.com/svrooij/sonos2mqtt<span class="nt">&lt;/Github&gt;</span>
    <span class="nt">&lt;Network&gt;</span>bridge<span class="nt">&lt;/Network&gt;</span>
    <span class="nt">&lt;MyIP/&gt;</span>
    <span class="nt">&lt;Privileged&gt;</span>false<span class="nt">&lt;/Privileged&gt;</span>
    <span class="nt">&lt;Support&gt;</span>https://svrooij.github.io/sonos2mqtt<span class="nt">&lt;/Support&gt;</span>
    <span class="nt">&lt;Project/&gt;</span>
    <span class="nt">&lt;Overview&gt;</span>
        Bridge between Sonos and mqtt server
        Provide features like notifications or text-to-speech, publish sonos status to mqtt and so on.
    <span class="nt">&lt;/Overview&gt;</span>
    <span class="nt">&lt;Category&gt;</span>HomeAutomation:<span class="nt">&lt;/Category&gt;</span>
    <span class="nt">&lt;WebUI&gt;</span>http://[IP]:[PORT:8080]/status<span class="nt">&lt;/WebUI&gt;</span>
    <span class="nt">&lt;TemplateURL/&gt;</span>
    <span class="nt">&lt;Icon&gt;</span>https://raw.githubusercontent.com/sebastienvermeille/unraid-docker-templates/main/images/mqtt2sonos_icon.png<span class="nt">&lt;/Icon&gt;</span>
    <span class="nt">&lt;ExtraParams/&gt;</span>
    <span class="nt">&lt;PostArgs/&gt;</span>
    <span class="nt">&lt;DateInstalled&gt;</span>1527397055<span class="nt">&lt;/DateInstalled&gt;</span>
    <span class="nt">&lt;DonateText/&gt;</span>
    <span class="nt">&lt;DonateLink/&gt;</span>
    <span class="nt">&lt;DonateImg/&gt;</span>
    <span class="nt">&lt;MinVer/&gt;</span>
    <span class="nt">&lt;Description&gt;</span>It is very important to set the `Ip of this docker (sonos listener host)` field correctly otherwise the web
        ui won't work. (You can run this container without then grab the ip edit and set it)<span class="nt">&lt;/Description&gt;</span>
    <span class="nt">&lt;Networking&gt;</span>
        <span class="nt">&lt;Mode&gt;</span>bridge<span class="nt">&lt;/Mode&gt;</span>
        <span class="nt">&lt;Publish&gt;</span>
            <span class="nt">&lt;Port&gt;</span>
                <span class="nt">&lt;HostPort&gt;</span>6329<span class="nt">&lt;/HostPort&gt;</span>
                <span class="nt">&lt;ContainerPort&gt;</span>6329<span class="nt">&lt;/ContainerPort&gt;</span>
                <span class="nt">&lt;Protocol&gt;</span>tcp<span class="nt">&lt;/Protocol&gt;</span>
            <span class="nt">&lt;/Port&gt;</span>
        <span class="nt">&lt;/Publish&gt;</span>
    <span class="nt">&lt;/Networking&gt;</span>
    <span class="nt">&lt;Data&gt;</span>
        <span class="nt">&lt;Volume&gt;</span>
            <span class="nt">&lt;HostDir&gt;</span>/mnt/user/appdata/sonos2mqtt<span class="nt">&lt;/HostDir&gt;</span>
            <span class="nt">&lt;ContainerDir&gt;</span>/data<span class="nt">&lt;/ContainerDir&gt;</span>
            <span class="nt">&lt;Mode&gt;</span>rw<span class="nt">&lt;/Mode&gt;</span>
        <span class="nt">&lt;/Volume&gt;</span>
    <span class="nt">&lt;/Data&gt;</span>
    <span class="nt">&lt;Environment/&gt;</span>
    <span class="nt">&lt;Labels/&gt;</span>
    <span class="nt">&lt;Config</span> <span class="na">Name=</span><span class="s">"Host Port"</span> <span class="na">Target=</span><span class="s">"6329"</span> <span class="na">Default=</span><span class="s">"6329"</span> <span class="na">Mode=</span><span class="s">"tcp"</span> <span class="na">Description=</span><span class="s">"Container Port: 6329"</span> <span class="na">Type=</span><span class="s">"Port"</span> <span class="na">Display=</span><span class="s">"always"</span>
            <span class="na">Required=</span><span class="s">"true"</span> <span class="na">Mask=</span><span class="s">"false"</span><span class="nt">&gt;</span>6329<span class="nt">&lt;/Config&gt;</span>
    <span class="nt">&lt;Config</span> <span class="na">Name=</span><span class="s">"IP of one known sonos speaker"</span> <span class="na">Target=</span><span class="s">"SONOS2MQTT_DEVICE"</span> <span class="na">Default=</span><span class="s">""</span>
            <span class="na">Description=</span><span class="s">"(device discovery doesnt always work inside docker)"</span> <span class="na">Type=</span><span class="s">"Variable"</span> <span class="na">Display=</span><span class="s">"always"</span> <span class="na">Required=</span><span class="s">"true"</span>
            <span class="na">Mask=</span><span class="s">"false"</span><span class="nt">&gt;&lt;/Config&gt;</span>
    <span class="nt">&lt;Config</span> <span class="na">Name=</span><span class="s">"Mqtt connection string"</span> <span class="na">Target=</span><span class="s">"SONOS2MQTT_MQTT"</span> <span class="na">Default=</span><span class="s">""</span>
            <span class="na">Description=</span><span class="s">"mqtt(s)://[user]:[password]@[host]:[port]"</span> <span class="na">Type=</span><span class="s">"Variable"</span> <span class="na">Display=</span><span class="s">"always"</span> <span class="na">Required=</span><span class="s">"true"</span>
            <span class="na">Mask=</span><span class="s">"false"</span><span class="nt">&gt;&lt;/Config&gt;</span>
    <span class="nt">&lt;Config</span> <span class="na">Name=</span><span class="s">"Publish distinct (optional)"</span> <span class="na">Target=</span><span class="s">"SONOS2MQTT_DISTINCT"</span> <span class="na">Default=</span><span class="s">"true"</span>
            <span class="na">Description=</span><span class="s">"Publish distinct or not"</span> <span class="na">Type=</span><span class="s">"Variable"</span> <span class="na">Display=</span><span class="s">"advanced"</span> <span class="na">Required=</span><span class="s">"false"</span>
            <span class="na">Mask=</span><span class="s">"false"</span><span class="nt">&gt;</span>true<span class="nt">&lt;/Config&gt;</span>
    <span class="nt">&lt;Config</span> <span class="na">Name=</span><span class="s">"Ip of this docker (sonos listener host)"</span> <span class="na">Target=</span><span class="s">"SONOS_LISTENER_HOST"</span> <span class="na">Default=</span><span class="s">""</span>
            <span class="na">Description=</span><span class="s">""</span> <span class="na">Type=</span><span class="s">"Variable"</span> <span class="na">Display=</span><span class="s">"always"</span> <span class="na">Required=</span><span class="s">"true"</span>
            <span class="na">Mask=</span><span class="s">"false"</span><span class="nt">&gt;&lt;/Config&gt;</span>
    <span class="nt">&lt;Config</span> <span class="na">Name=</span><span class="s">"AppData Config Path"</span> <span class="na">Target=</span><span class="s">"/config"</span> <span class="na">Default=</span><span class="s">"/mnt/user/appdata/sonos2mqtt"</span> <span class="na">Mode=</span><span class="s">"rw"</span>
            <span class="na">Description=</span><span class="s">"Container Path: /config"</span>
            <span class="na">Type=</span><span class="s">"Path"</span> <span class="na">Display=</span><span class="s">"advanced-hide"</span> <span class="na">Required=</span><span class="s">"true"</span> <span class="na">Mask=</span><span class="s">"false"</span><span class="nt">&gt;</span>/mnt/user/appdata/sonos2mqtt<span class="nt">&lt;/Config&gt;</span>
    <span class="nt">&lt;Config</span> <span class="na">Name=</span><span class="s">"Text to speech endpoint url (optional)"</span> <span class="na">Target=</span><span class="s">"SONOS_TTS_ENDPOINT"</span> <span class="na">Default=</span><span class="s">""</span>
            <span class="na">Description=</span><span class="s">""</span> <span class="na">Type=</span><span class="s">"Variable"</span> <span class="na">Display=</span><span class="s">"always"</span> <span class="na">Required=</span><span class="s">"false"</span>
            <span class="na">Mask=</span><span class="s">"false"</span><span class="nt">&gt;&lt;/Config&gt;</span>
    <span class="nt">&lt;Config</span> <span class="na">Name=</span><span class="s">"Text to speech language (optional)"</span> <span class="na">Target=</span><span class="s">"SONOS_TTS_LANG"</span> <span class="na">Default=</span><span class="s">"en-US"</span>
            <span class="na">Description=</span><span class="s">""</span> <span class="na">Type=</span><span class="s">"Variable"</span> <span class="na">Display=</span><span class="s">"always"</span> <span class="na">Required=</span><span class="s">"false"</span>
            <span class="na">Mask=</span><span class="s">"false"</span><span class="nt">&gt;&lt;/Config&gt;</span>
<span class="nt">&lt;/Container&gt;</span>
</pre></td></tr></tbody></table></code></pre></div></div>
<p>As you can see it’s just a simple xml file declaring a bit ports, environment variables, paths and so on.</p>

<p>You can define here multiple type of configurations:</p>
<ul>
  <li>Variable: ENV variable name</li>
  <li>Port: A port mapping</li>
  <li>Path: A path exposed</li>
</ul>

<p>For more details you can read this page of <a href="https://wiki.unraid.net/DockerTemplateSchema">unraid’s wiki</a> it’s very good documented.</p>

<p>3) Then we have to tell unraid to fetch our templates
To do so you simply go to your unraid instance and select the <code class="language-plaintext highlighter-rouge">Docker</code> tab.</p>

<p><img src="../assets/images/articles/unraid-select-docker.png" alt="" /></p>

<p>Then on the bottom of the page add the url of the git repository you have created at step 1):</p>

<p><img src="../assets/images/articles/unraid-custom-template-repository.png" alt="" /></p>

<p>And click <code class="language-plaintext highlighter-rouge">SAVE</code>.</p>

<p>4) Now you can create a docker container with your template:</p>

<p>Click on <img src="../assets/images/articles/unraid-add-container-button.png" alt="" /> and then select your own template:</p>

<p><img src="../assets/images/articles/unraid-select-custom-template.png" alt="" /></p>

<p>And then all the configuration you defined in the xml file will be rendered as follow:</p>

<p><img src="../assets/images/articles/unraid-display-custom-template.png" alt="" /></p>

<p>As you can see we can define custom values, optional values, masked values for password etc. it is really powerful thank’s Unraid Devs!</p>

<h2 id="integrate-your-docker-template-repository-with-the-community-apps-plugin">Integrate your docker template repository with the community apps plugin</h2>

<p>TODO</p>

<h2 id="references">References</h2>
<ul>
  <li><a href="https://wiki.unraid.net/DockerTemplateSchema">Docker template schema</a></li>
  <li><a href="https://forums.unraid.net/topic/57181-docker-faq/#comment-566084">Docker FAQ - Host app on community applications plugin</a>.</li>
</ul>

        </div>
    </div>
    <aside class="column is-3 is-narrow-mobile is-fullheight is-hidden-mobile">
        <div class="content has-text-centered is-unselectable">
            <img src="/assets/logo/logo.svg" width="225" height="225" alt="CookieCode logo" class="logo"/>
        </div>
        <nav class="panel is-unselectable">
            <p class="panel-heading is-size-6">
                Metadata
            </p>
            <div class="panel-block is-size-7">
                <span class="panel-icon">
                  <i class="fas fa-clock" aria-hidden="true"></i>
                </span>
                Reading time: ~5 minutes
            </div>
            <div class="panel-block is-size-7">
                <span class="panel-icon">
                  <i class="fas fa-calendar" aria-hidden="true"></i>
                </span>
                <time class="post-date" datetime="2022-06-14">Published: 2022/06/14</time>
            </div>

            

            <div class="panel-block is-clipped">
                
                <nav class="level is-mobile">
	<div class="level-left">
		<div class="field is-grouped is-grouped-multiline">
			
			<div class="control">
				<div class="tags has-addons">
					<a class="tag is-link" href="/tag/docker">docker</a>
					<span class="tag">
                        <span class="icon">
                            <i class="fas fa-tag"></i>
                        </span>
                    </span>
				</div>
			</div>
			
		</div>
	</div>
</nav>
            </div>
        </nav>
        <nav class="panel is-unselectable"><p class="panel-heading is-size-6">Sebastien Vermeille</p>
<div class="navbar-item is-size-7">
	Highly passionate programmer with an insatiable quest for knowledge. <br>Interested in Clean Code concepts, good practices, software
	architecture, emerging frameworks, <br>and also in electronics IoT, DIY projects.
</div>
<div class="panel-block">
	<a class="button is-link is-outlined is-fullwidth" href="/about">More about me</a>
</div>
</nav>
    </aside>
</section>

<section class="section">
    <div class="container">
        <div class="content"><section class="disqus">

    <div id="disqus_thread"></div>
    <script>
        /**
         *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
         *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables    */
        /*
        var disqus_config = function () {
        this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
        this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
        };
        */
        (function() { // DON'T EDIT BELOW THIS LINE
            var d = document, s = d.createElement('script');
            var disqus_shortname = '';
            s.src = 'https://cookiecode-dev.disqus.com/embed.js';
            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</section>
</div>
    </div>
</section>

<section class="section">
    <h1 class="title gradient-text">Discover more articles...</h1>
    <nav class="pagination is-centered" role="navigation" aria-label="pagination">
        
        <a class="pagination-previous" href="//tools/linux-screenshots-flameshot.html"> &laquo; Falmeshot - Do screenshots and annotate them in seconds !</a>
        
        
        <a class="pagination-next" href="//tools/ttsmp3-free-online-text-to-speech.html">[Howto] Convert a text to a speech audio file for free using TTSMP3 &raquo; </a>
        
    </nav>
</section>

</main>

<footer class="footer">
	<div class="footer-top"></div>

	<div class="container">
		<div class="is-hidden-tablet">
			<span class="select is-fullwidth">
				<select id="destination-selector">
					<option value="">Choose a category ...</option>
					<optgroup label="Languages">Languages</optgroup>
					<option value="/categories/java/index.html">JAVA</option>
					<optgroup label="Tooling">Tooling</optgroup>
					<option value="/categories/unraid/index.html">Unraid</option>
					<option value="/categories/iot/index.html">IoT</option>
					<optgroup label="Concepts">Concepts</optgroup>
					<option value="/categories/design-pattern/index.html">Design pattern</option>
				</select>
			</span>
		</div>

		<div class="columns is-hidden-mobile">
			<div class="column">
				Languages
				<ul>
					<li>
						<a href="/categories/java/index.html" class="item">JAVA</a>
					</li>
					
				</ul>
			</div>
			<div class="column">
				Tooling
				<ul>
					
					<li>
						<a href="/categories/unraid/index.html" class="item">Unraid</a>
					</li>
					<li>
						<a href="/categories/iot/index.html" class="item">IoT</a>
					</li>
				</ul>
			</div>
			<div class="column">
				Concepts
				<ul>
					
					<li>
						<a href="/categories/design-pattern/index.html" class="item">Design pattern</a>
					</li>
					
				</ul>
			</div>
		</div>
	</div>


	<div class="separator-line"></div>

	<div class="content has-text-centered">
		<p>
			<strong>CookieCode</strong> <a href="https://github.com/sebastienvermeille/sebastienvermeille.github.io/tree/master"
												target="_blank">source code</a> is licensed
			<a href="https://opensource.org/licenses/mit-license.php" target="_blank">MIT</a>. The website content (articles in markdown
			files, logo)
			are licensed <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY NC SA 4.0</a>.
		</p>
	</div>
</footer>

<script src="/assets/js/jquery.min.js"></script>
<script src="/assets/js/theme-switcher.js"></script>
<script src="/assets/js/theme.js"></script>
<script src="/assets/js/quotes.js"></script>


<!--    <script src="/assets/js/source-code-fancier.js"></script>-->

<!---->
<!--<script id="dsq-count-scr" src="//.disqus.com/count.js"></script>-->
<!---->

</body>
</html>
